language: python
python:
    - "2.7"
addons:
  apt:
    packages:
        - gfortran 
        - libblas-dev 
        - liblapack-dev 
env:
## Uncomment the following line if you want to run also the interface tests
#   - W90TESTSWITHINTERFACE=true
   - W90TESTSWITHINTERFACE=false
install:
# Possibly install QE and other interface code
    - ./test-suite2/tools/external-codes/get-external-codes.sh
# Install Wannier
    - cp ./test-suite2/config/TravisCI/make.inc.gfort.travisci make.inc
    - make -j default
script:
    - ./test-suite2/tools/run_tests_travis.sh
git:
  depth: 3
